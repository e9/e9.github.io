<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>2016/02 on e9.github.io</title>
    <link>https://e9.github.io/tags/2016/02/</link>
    <description>Recent content in 2016/02 on e9.github.io</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <lastBuildDate>Mon, 29 Feb 2016 22:31:13 +0900</lastBuildDate>
    
	<atom:link href="https://e9.github.io/tags/2016/02/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>before_actionで変数を代入する是非</title>
      <link>https://e9.github.io/posts/1456752673/</link>
      <pubDate>Mon, 29 Feb 2016 22:31:13 +0900</pubDate>
      
      <guid>https://e9.github.io/posts/1456752673/</guid>
      <description>いつの間にかrailsのscaffoldで作成したコントローラがbefore_actionで変数を仕込むようになっていた。普段まったく使わないので気付かなかった。
 https://github.com/rails/rails/commit/339e4e80d514bd94fcb0e15689db43e5de83642a  class &amp;lt;%= controller_class_name %&amp;gt;Controller &amp;lt; ApplicationController before_action :set_&amp;lt;%= singular_table_name %&amp;gt;, except: [ :index, :new, :create ] private # Use callbacks to share common setup or constraints between actions. def set_&amp;lt;%= singular_table_name %&amp;gt; @&amp;lt;%= singular_table_name %&amp;gt; = &amp;lt;%= orm_class.find(class_name, &amp;#34;params[:id]&amp;#34;) %&amp;gt; end  Let the scaffold example use the &amp;ldquo;set shared record&amp;rdquo; pattern to explain callbacks
 だけどこれは経験的に知っていることなんだけど、before_actionで変数を代入すると見通しが悪くなるのだ。
特に多人数で開発しているときに誰かがそれをやりだすと、before_actionに次ぐbefore_actionで、いったいどのアクションがどのbefore_actionを呼んでいるのか、わけがわからなくなる。
同じことを考えてる人は結構いる。
 http://craftingruby.com/posts/2015/05/31/dont-use-before-action-to-load-data.html http://blog.thefrontiergroup.com.au/2014/02/before_action_an_anti_pattern/ http://jgaskins.org/blog/2014/08/25/better-alternative-to-rails-before_action-to-load-objects http://stackoverflow.com/questions/31442005/rails-set-locals-via-before-action-without-using-instance-variables  だからrailsオフィシャルがscaffoldでbefore_actionを使ってくるのには違和感がある。</description>
    </item>
    
  </channel>
</rss>